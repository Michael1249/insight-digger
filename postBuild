#!/bin/bash

# Binder post-build script for Insight Digger
# Configures Jupyter environment for soc_opros survey analysis

# Enable Jupyter widgets for interactive components  
jupyter nbextension enable --py --sys-prefix widgetsnbextension

# Install JupyterLab extensions for enhanced data visualization
if command -v jupyter-labextension >/dev/null 2>&1; then
    jupyter labextension install @jupyter-widgets/jupyterlab-manager --no-build
    jupyter labextension install plotlywidget --no-build
    jupyter lab build --minimize=False
fi

# Create data directories if they don't exist
mkdir -p data/raw data/processed data/exports

# Ensure proper permissions
chmod -R 755 notebooks/

echo "âœ… Binder environment configured for soc_opros survey analysis"